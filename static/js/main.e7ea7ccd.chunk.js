(this["webpackJsonpshop-frontend"]=this["webpackJsonpshop-frontend"]||[]).push([[0],{172:function(e,n,t){"use strict";t.r(n);var r,a,c,i,s,o,d,l,u,p,b,j,h,x,m,g,f,O,v,w,y,k,I,S,L,R,C,q,D,P,A,F,N,E,U,z,_,J,Z,T,Y,$,V,B,G,H=t(0),Q=t(31),K=t.n(Q),M=t(14),W=t(47),X=Object(W.b)({name:"productList",initialState:{products:[],loading:!0,error:null},reducers:{productListRequest:function(e){e.products=[],e.loading=!0,e.error=null},productListSuccess:function(e,n){e.products=n.payload,e.loading=!1,e.error=null},productListFail:function(e,n){e.products=[],e.loading=!1,e.error=n.payload}}}),ee=X.actions,ne=ee.productListRequest,te=ee.productListSuccess,re=ee.productListFail,ae=function(e){return e.productList.products},ce=function(e){return e.productList.loading},ie=function(e){return e.productList.error},se=(X.reducer,Object(W.b)({name:"productDetails",initialState:{product:{_id:"",name:"",image:"",description:"",brand:"",category:"",price:0,countInStock:0,rating:0,numReviews:0,reviews:[]},loading:!0,error:null},reducers:{productRequest:function(e){e.loading=!0},productSuccess:function(e,n){e.product=n.payload,e.loading=!1,e.error=null},productFail:function(e,n){e.error=n.payload,e.loading=!1,e.product={_id:"",name:"",image:"",description:"",brand:"",category:"",price:0,countInStock:0,rating:0,numReviews:0,reviews:[]}}}})),oe=se.actions,de=oe.productRequest,le=oe.productSuccess,ue=oe.productFail,pe=function(e){return e.productDetails.product},be=function(e){return e.productDetails.loading},je=function(e){return e.productDetails.error},he=(se.reducer,localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")||"{}"):[]),xe={cartItems:he},me=Object(W.b)({name:"cart",initialState:xe,reducers:{cartAddItem:function(e,n){var t=n.payload,r=e.cartItems.find((function(e){return e.product===t.product}));r?e.cartItems=e.cartItems.map((function(e){return e.product===r.product?t:e})):e.cartItems.push(t)},cartRemoveItem:function(e,n){e.cartItems=e.cartItems.filter((function(e){return e.product!==n.payload}))}}}),ge=me.actions,fe=ge.cartAddItem,Oe=ge.cartRemoveItem,ve=function(e){return e.cart.cartItems},we=(me.reducer,localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")||"{}"):null),ye={user:null,userInfo:we,loading:!1,success:!1,errors:{errorLogin:null,errorRegister:null,errorDetails:null,errorUpdateDetails:null}},ke=Object(W.b)({name:"user",initialState:ye,reducers:{userLoginRequest:function(e){e.userInfo=null,e.loading=!0},userLoginSuccess:function(e,n){e.userInfo=n.payload,e.errors.errorLogin=null,e.loading=!1},userLoginFail:function(e,n){e.userInfo=null,e.errors.errorLogin=n.payload,e.loading=!1},userLogout:function(e){e.user=null,e.userInfo=null,e.loading=!1,e.success=!1,e.errors.errorLogin=null,e.errors.errorRegister=null,e.errors.errorDetails=null},userRegisterRequest:function(e){e.userInfo=null,e.loading=!0},userRegisterSuccess:function(e,n){e.userInfo=n.payload,e.errors.errorRegister=null,e.loading=!1},userRegisterFail:function(e,n){e.userInfo=null,e.errors.errorRegister=n.payload,e.loading=!1},userDetailsRequest:function(e){e.user=null,e.loading=!0},userDetailsSuccess:function(e,n){e.user=n.payload,e.errors.errorDetails=null,e.loading=!1},userDetailsFail:function(e,n){e.user=null,e.errors.errorDetails=n.payload,e.loading=!1},userUpdateProfileRequest:function(e){e.success=!1,e.loading=!0},userUpdateProfileSuccess:function(e,n){e.userInfo=n.payload,e.success=!0,e.errors.errorUpdateDetails=null,e.loading=!1},userUpdateProfileFail:function(e,n){e.success=!1,e.errors.errorUpdateDetails=n.payload,e.loading=!1},userUpdateProfileReset:function(e,n){e.errors.errorUpdateDetails=n.payload,e.loading=!1},deleteAlert:function(e){e.success=!1,e.errors.errorLogin=null,e.errors.errorRegister=null,e.errors.errorDetails=null,e.errors.errorUpdateDetails=null}}}),Ie=ke.actions,Se=Ie.userLoginRequest,Le=Ie.userLoginSuccess,Re=Ie.userLoginFail,Ce=Ie.userLogout,qe=Ie.userRegisterRequest,De=Ie.userRegisterSuccess,Pe=Ie.userRegisterFail,Ae=Ie.userDetailsRequest,Fe=Ie.userDetailsSuccess,Ne=Ie.userDetailsFail,Ee=Ie.userUpdateProfileRequest,Ue=Ie.userUpdateProfileSuccess,ze=Ie.userUpdateProfileFail,_e=(Ie.userUpdateProfileReset,Ie.deleteAlert),Je=function(e){return e.user.user},Ze=function(e){return e.user.userInfo},Te=function(e){return e.user.loading},Ye=function(e){return e.user.success},$e=function(e){return e.user.errors.errorLogin},Ve=function(e){return e.user.errors.errorRegister},Be=function(e){return e.user.errors.errorDetails},Ge=function(e){return e.user.errors.errorUpdateDetails},He=(ke.reducer,Object(W.a)({reducer:{productList:X.reducer,productDetails:se.reducer,cart:me.reducer,user:ke.reducer}})),Qe=t(60),Ke=t(12),Me=t(6),We=t(7),Xe=We.b.section(r||(r=Object(Me.a)(["\n  & > h2 {\n    margin-bottom: 20px;\n    text-transform: uppercase;\n  }\n"]))),en=t(2),nn=t(13),tn=t.n(nn),rn=t(23),an=t(106),cn=t.n(an).a.create({baseURL:"https://shop-backend-api.herokuapp.com"}),sn=We.b.div(a||(a=Object(Me.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-auto-rows: auto;\n  grid-column-gap: 20px;\n  grid-row-gap: 30px;\n"]))),on=t(175),dn=t(176),ln="#fff",un="#000",pn=We.b.div(c||(c=Object(Me.a)(["\n  border: 1px solid ",";\n  padding: 10px;\n"])),un),bn=We.b.figure(i||(i=Object(Me.a)(["\n  margin-bottom: 20px;\n  cursor: pointer;\n\n  & > img {\n    width: 100%;\n    height: 100%;\n    display: block;\n  }\n"]))),jn=We.b.div(s||(s=Object(Me.a)(["\n  display: flex;\n  flex-direction: column;\n\n  & > p {\n    font-size: 16px;\n    line-height: 20px;\n    margin-bottom: 10px;\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  & > div {\n    & > ul {\n      font-size: 12px;\n    }\n    & > span {\n      margin-left: 10px;\n      font-size: 12px;\n    }\n  }\n\n  & > h3 {\n    display: inline-block;\n    margin-top: 10px;\n    font-size: 20px;\n    font-weight: bold;\n    margin-bottom: 0;\n  }\n"]))),hn=t(179),xn=t(1),mn=function(e){var n=e._id,t=e.name,r=e.image,a=e.price,c=e.rating,i=e.numReviews,s=Object(Ke.g)(),o=function(){s.push("/product/".concat(n))};return Object(xn.jsxs)(pn,{children:[Object(xn.jsx)(bn,{onClick:o,children:Object(xn.jsx)("img",{src:r,alt:t})}),Object(xn.jsxs)(jn,{children:[Object(xn.jsx)("p",{onClick:o,children:t}),Object(xn.jsxs)("div",{children:[Object(xn.jsx)(hn.a,{allowHalf:!0,disabled:!0,defaultValue:c}),Object(xn.jsxs)("span",{children:[i," reviews"]})]}),Object(xn.jsxs)("h3",{children:["$",null===a||void 0===a?void 0:a.toFixed(2)]})]})]})},gn=function(){var e=Object(M.b)(),n=Object(M.c)(ae),t=Object(M.c)(ce),r=Object(M.c)(ie);return Object(H.useEffect)((function(){e(function(){var e=Object(rn.a)(tn.a.mark((function e(n){var t,r;return tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(ne()),e.next=4,cn.get("/api/products");case 4:t=e.sent,r=t.data,n(te(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(re(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}())}),[e]),Object(xn.jsx)(on.a,{spinning:t,delay:0,children:t?Object(xn.jsx)(on.a,{}):r?Object(xn.jsx)(dn.a,{message:r,type:"error",showIcon:!0,banner:!0}):Object(xn.jsx)(sn,{children:n.map((function(e){return Object(xn.jsx)(mn,Object(en.a)({},e),e._id)}))})})},fn=function(){return Object(xn.jsxs)(Xe,{children:[Object(xn.jsx)("h2",{children:"Product"}),Object(xn.jsx)(gn,{})]})},On=We.b.section(o||(o=Object(Me.a)(["\n  & > h1 {\n    margin-bottom: 20px;\n    text-transform: uppercase;\n  }\n"]))),vn=t(81),wn=t(10),yn=We.b.section(d||(d=Object(Me.a)([""]))),kn=We.b.div(l||(l=Object(Me.a)(["\n  margin-bottom: 15px;\n"]))),In=We.b.div(u||(u=Object(Me.a)(["\n  display: grid;\n  grid-template-columns: 35% 1fr 1fr;\n  column-gap: 40px;\n\n  @media (max-width: 1000px) {\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    column-gap: 0;\n    row-gap: 30px;\n  }\n"]))),Sn=We.b.div(p||(p=Object(Me.a)(["\n  & > img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),Ln=We.b.div(b||(b=Object(Me.a)(["\n  & > div {\n    padding: 10px 20px;\n  }\n\n  & > div:nth-child(1) {\n    font-size: 18px;\n    line-height: 35px;\n    padding: 0 20px 20px;\n  }\n\n  & > div:nth-child(2) {\n    border-top: 1px solid black;\n    border-bottom: 1px solid black;\n    display: flex;\n    align-items: center;\n\n    & > ul {\n      font-size: 15px;\n    }\n\n    & > p {\n      margin-left: 15px;\n    }\n  }\n\n  & > div:nth-child(3) {\n    border-bottom: 1px solid black;\n    font-size: 14px;\n  }\n\n  & > div:nth-child(4) {\n    font-size: 14px;\n  }\n"]))),Rn=We.b.div(j||(j=Object(Me.a)(["\n  & > div {\n    padding: 10px 20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  & > div:nth-child(1) {\n    border-top: 1px solid black;\n    border-left: 1px solid black;\n    border-right: 1px solid black;\n    border-bottom: 1px solid black;\n  }\n\n  & > div:nth-child(2) {\n    border-left: 1px solid black;\n    border-right: 1px solid black;\n    border-bottom: 1px solid black;\n  }\n\n  & > div:nth-child(3) {\n    border-left: 1px solid black;\n    border-right: 1px solid black;\n    border-bottom: 1px solid black;\n  }\n\n  & > div:nth-child(4) {\n    border-left: 1px solid black;\n    border-right: 1px solid black;\n    border-bottom: 1px solid black;\n  }\n"]))),Cn=t(178),qn=t(17),Dn=We.b.button(h||(h=Object(Me.a)(["\n  width: ",";\n  height: ",";\n  cursor: ",";\n  background-color: ",";\n  color: ",";\n  border: none;\n  outline: none;\n  text-transform: uppercase;\n\n  & > div {\n    height: 100%;\n\n    & > .ant-spin-container {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100%;\n\n      & > span {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin: 0;\n\n        & > span {\n          margin: 0;\n        }\n\n        & > p {\n          margin-right: 10px;\n        }\n      }\n    }\n  }\n\n  &:disabled {\n    background-color: black;\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.loading?"not-allowed":"pointer"}),un,ln),Pn=Object(H.forwardRef)((function(e,n){var t=e.children,r=e.disabled,a=e.height,c=void 0===a?"2.7rem":a,i=e.width,s=void 0===i?"9rem":i,o=e.loading,d=void 0!==o&&o,l=Object(qn.a)(e,["children","disabled","height","width","loading"]);return Object(xn.jsx)(Dn,Object(en.a)(Object(en.a)({ref:n,disabled:r,height:c,width:s,loading:d},l),{},{children:Object(xn.jsx)(on.a,{spinning:d,delay:500,children:Object(xn.jsx)("span",{children:t})})}))})),An=function(e){var n=e._id,t=e.name,r=e.image,a=e.description,c=e.price,i=e.countInStock,s=e.rating,o=e.numReviews,d=Object(Ke.g)(),l=Object(H.useState)(i),u=Object(wn.a)(l,2),p=u[0],b=u[1];return Object(xn.jsxs)(yn,{children:[Object(xn.jsx)(kn,{children:Object(xn.jsx)(Pn,{onClick:function(){return d.goBack()},children:"Go Back"})}),Object(xn.jsxs)(In,{children:[Object(xn.jsx)(Sn,{children:Object(xn.jsx)("img",{src:r,alt:t})}),Object(xn.jsxs)(Ln,{children:[Object(xn.jsx)("div",{children:Object(xn.jsx)("h2",{children:t})}),Object(xn.jsxs)("div",{children:[Object(xn.jsx)(hn.a,{disabled:!0,defaultValue:s}),Object(xn.jsxs)("p",{children:[o," reviews"]})]}),Object(xn.jsx)("div",{children:Object(xn.jsxs)("p",{children:["Price: $",null===c||void 0===c?void 0:c.toFixed(2)]})}),Object(xn.jsx)("div",{children:Object(xn.jsx)("p",{children:a})})]}),Object(xn.jsxs)(Rn,{children:[Object(xn.jsxs)("div",{children:[Object(xn.jsx)("span",{children:"Price:"}),Object(xn.jsxs)("span",{children:["$",c.toFixed(2)]})]}),Object(xn.jsxs)("div",{children:[Object(xn.jsx)("span",{children:"Status:"}),Object(xn.jsx)("span",{children:i>0?"In Stock":"Out of Stock"})]}),Object(xn.jsxs)("div",{children:[Object(xn.jsx)("span",{children:"Quantity:"}),Object(xn.jsx)(Cn.a,{min:1,max:i,defaultValue:i,onChange:function(e){return b(e)}})]}),Object(xn.jsx)("div",{children:Object(xn.jsx)(Pn,{width:"100%",disabled:0===i,onClick:function(){d.push("/cart/".concat(n,"?qty=").concat(p))},children:"Add to cart"})})]})]})]})},Fn=function(){var e=Object(M.b)(),n=Object(M.c)(be),t=Object(M.c)(pe),r=Object(M.c)(je),a=Object(Ke.g)(),c=Object(Ke.i)().productID;return Object(H.useEffect)((function(){var n;e((n=c,function(){var e=Object(rn.a)(tn.a.mark((function e(t){var r,a;return tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(de()),e.next=4,cn.get("/api/products/".concat(n));case 4:r=e.sent,a=r.data,t(le(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(ue(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()))}),[e,c]),Object(xn.jsxs)(On,{children:[Object(xn.jsx)("h1",{children:"Product Details"}),Object(xn.jsx)(on.a,{spinning:n,children:n?Object(xn.jsx)(on.a,{}):r?Object(xn.jsx)(dn.a,{message:r,type:"error",showIcon:!0,banner:!0,action:Object(xn.jsx)(vn.a,{size:"small",type:"primary",onClick:function(){return a.push("/")},children:"Go Home"})}):Object(xn.jsx)(An,Object(en.a)({},t))})]})},Nn=function(e,n){return function(){var t=Object(rn.a)(tn.a.mark((function t(r,a){var c,i;return tn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cn.get("/api/products/".concat(e));case 2:c=t.sent,i=c.data,r(fe({product:i._id,name:i.name,image:i.image,price:i.price,countInStock:i.countInStock,qty:n})),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},En=We.b.section(x||(x=Object(Me.a)(["\n  display: grid;\n  grid-template-columns: 60% 1fr;\n  grid-column-gap: 40px;\n\n  @media (max-width: 1000px) {\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    column-gap: 0;\n    row-gap: 30px;\n  }\n"]))),Un=We.b.div(m||(m=Object(Me.a)(["\n  & > h2 {\n    margin-bottom: 20px;\n    text-transform: uppercase;\n  }\n"]))),zn=We.b.div(g||(g=Object(Me.a)([""]))),_n=We.b.ul(f||(f=Object(Me.a)([""]))),Jn=We.b.li(O||(O=Object(Me.a)(["\n  display: grid;\n  grid-template-columns: 15% 1fr 10% 15% 15%;\n  grid-column-gap: 20px;\n\n  padding: 10px 0;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    grid-template-columns: 15% 27% 18% 15% 1fr;\n    grid-column-gap: 10px;\n  }\n"]))),Zn=We.b.div(v||(v=Object(Me.a)(["\n  cursor: pointer;\n  overflow: hidden;\n\n  width: 100%;\n  height: 100%;\n\n  & > img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),Tn=We.b.div(w||(w=Object(Me.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  & > h3 {\n    font-size: 14px;\n    line-height: 18px;\n    cursor: pointer;\n  }\n\n  @media (max-width: 768px) {\n    & > h3 {\n      font-size: 11px;\n      line-height: 16px;\n      cursor: pointer;\n    }\n  }\n"]))),Yn=We.b.div(y||(y=Object(Me.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),$n=We.b.div(k||(k=Object(Me.a)(["\n  display: flex;\n  align-items: center;\n"]))),Vn=We.b.div(I||(I=Object(Me.a)(["\n  padding: 15px;\n\n  @media (max-width: 768px) {\n    padding: 0;\n  }\n"]))),Bn=t(182),Gn=function(e){var n=e.product,t=e.name,r=e.image,a=e.price,c=e.countInStock,i=e.qty,s=Object(Ke.g)(),o=Object(M.b)(),d=function(e){o(function(e){return function(){var n=Object(rn.a)(tn.a.mark((function n(t,r){return tn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(Oe(e)),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(e))},l=function(){s.push("/product/".concat(n))};return Object(xn.jsxs)(Jn,{children:[Object(xn.jsx)(Zn,{onClick:l,children:Object(xn.jsx)("img",{src:r,alt:t})}),Object(xn.jsx)(Tn,{children:Object(xn.jsx)("h3",{onClick:l,children:t})}),Object(xn.jsx)(Yn,{children:Object(xn.jsxs)("p",{children:["$",a.toFixed(2)]})}),Object(xn.jsx)($n,{children:Object(xn.jsx)(Cn.a,{min:1,max:c,defaultValue:i,value:i,onChange:function(e){return o(Nn(n,e))}})}),Object(xn.jsx)(Vn,{children:Object(xn.jsx)(Pn,{width:"100%",height:"100%",onClick:function(){return d(n)},children:Object(xn.jsx)(Bn.a,{})})})]})},Hn=function(e){var n=e.productList;return Object(xn.jsx)(_n,{children:n.map((function(e){return Object(xn.jsx)(Gn,Object(en.a)({},e),e.product)}))})},Qn=We.b.div(S||(S=Object(Me.a)(["\n  border: 1px solid black;\n"]))),Kn=We.b.div(L||(L=Object(Me.a)(["\n  border-bottom: 1px solid black;\n  padding: 10px 20px;\n\n  & > h3 {\n    font-size: 25px;\n    text-transform: uppercase;\n    margin-bottom: 10px;\n  }\n"]))),Mn=We.b.div(R||(R=Object(Me.a)(["\n  padding: 10px 20px;\n\n  & > button {\n    text-transform: uppercase;\n  }\n"]))),Wn=function(e){var n=e.quantityItems,t=e.totalAmount,r=Object(Ke.g)();return Object(xn.jsxs)(Qn,{children:[Object(xn.jsxs)(Kn,{children:[Object(xn.jsxs)("h3",{children:["Subtotal (",n,") items"]}),Object(xn.jsxs)("p",{children:["$",t.toFixed(2)]})]}),Object(xn.jsx)(Mn,{children:Object(xn.jsx)(Pn,{width:"100%",disabled:0===n,onClick:function(){r.push("/login?redirect=shipping")},children:"Proceed to checkout"})})]})},Xn=function(){var e=Object(Ke.g)(),n=Object(M.b)(),t=Object(Ke.h)(),r=Object(M.c)(ve),a=Object(Ke.i)().productID,c=t.search?Number(t.search.split("=")[1]):1;Object(H.useEffect)((function(){a&&n(Nn(a,c))}),[n,a,c]);var i=function(){return r.reduce((function(e,n){return e+n.qty}),0)};return Object(xn.jsxs)(En,{children:[Object(xn.jsxs)(Un,{children:[Object(xn.jsx)("h2",{children:"Shopping cart"}),0===i()?Object(xn.jsx)(dn.a,{message:"Your cart is empty",type:"error",showIcon:!0,banner:!0,action:Object(xn.jsx)(vn.a,{size:"small",type:"primary",onClick:function(){return e.push("/")},children:"Go Home"})}):Object(xn.jsx)(Hn,{productList:r})]}),Object(xn.jsx)(zn,{children:Object(xn.jsx)(Wn,{quantityItems:i(),totalAmount:r.reduce((function(e,n){return e+n.price*n.qty}),0)})})]})},et=function(){return function(e){setTimeout((function(){e(_e())}),3e3)}},nt=function(){return function(){var e=Object(rn.a)(tn.a.mark((function e(n,t){var r,a,c,i,s;return tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Ae()),r=t(),a=r.user.userInfo.token,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},e.next=6,cn.get("/api/users/profile",c);case 6:i=e.sent,s=i.data,n(Fe(s)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),n(Ne(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)),n(et());case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t){return e.apply(this,arguments)}}()},tt=t(58),rt=We.b.section(C||(C=Object(Me.a)(["\n  padding: 20px 0;\n"]))),at=We.b.form(q||(q=Object(Me.a)(["\n  max-width: 40%;\n  margin: 0 auto;\n\n  & > h2 {\n    margin-bottom: 20px;\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n\n  & > button {\n    margin-top: 15px;\n  }\n\n  @media (max-width: 1000px) {\n    max-width: 50%;\n  }\n\n  @media (max-width: 768px) {\n    max-width: 95%;\n  }\n"]))),ct=We.b.p(D||(D=Object(Me.a)(["\n  margin-top: 20px;\n\n  & > span {\n    font-weight: bold;\n    cursor: pointer;\n    margin-left: 7px;\n  }\n\n  & > span:hover {\n    text-decoration: underline;\n  }\n"]))),it=We.b.label(P||(P=Object(Me.a)(["\n  display: block;\n  width: 100%;\n  margin-bottom: 15px;\n\n  & > p {\n    margin-bottom: 5px;\n  }\n\n  & > input {\n    outline: none;\n    width: 100%;\n    padding: 10px 0 10px 10px;\n  }\n"]))),st=We.b.p(A||(A=Object(Me.a)(["\n  margin-top: 6px;\n  color: ",";\n"])),un),ot=Object(H.forwardRef)((function(e,n){var t=e.label,r=e.error,a=e.type,c=void 0===a?"text":a,i=Object(qn.a)(e,["label","error","type"]);return Object(xn.jsxs)(it,{children:[Object(xn.jsx)("p",{children:t}),Object(xn.jsx)("input",Object(en.a)(Object(en.a)({type:c},i),{},{ref:n})),r&&Object(xn.jsx)(st,{children:r})]})})),dt=function(){var e,n,t=Object(Ke.g)(),r=Object(M.b)(),a=Object(M.c)(Te),c=Object(M.c)($e),i=Object(M.c)(Ze);Object(H.useEffect)((function(){i&&t.push("/")}),[t,i]);var s=Object(tt.a)(),o=s.register,d=s.errors,l=(0,s.handleSubmit)((function(e){r(function(e){var n=e.email,t=e.password;return function(){var e=Object(rn.a)(tn.a.mark((function e(r){var a,c,i;return tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(Se()),a={headers:{"Content-Type":"application/json"}},e.next=5,cn.post("/api/users/login",{email:n,password:t},a);case 5:c=e.sent,i=c.data,r(Le(i)),localStorage.setItem("userInfo",JSON.stringify(i)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),r(Re(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)),r(et());case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}()}(e))}));return Object(xn.jsx)(rt,{children:Object(xn.jsx)(on.a,{spinning:a,children:Object(xn.jsxs)(at,{onSubmit:l,children:[Object(xn.jsx)("h2",{children:"Sign in"}),Object(xn.jsx)(ot,{name:"email",label:"Email",placeholder:"Your email",error:null===(e=d.email)||void 0===e?void 0:e.message,ref:o({required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email is in wrong format"}})}),Object(xn.jsx)(ot,{type:"password",name:"password",label:"Password",placeholder:"Your password",error:null===(n=d.password)||void 0===n?void 0:n.message,ref:o({required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"},maxLength:{value:50,message:"Password must not be greater than 50 characters"}})}),c&&Object(xn.jsx)(dn.a,{message:c,type:"error",showIcon:!0,banner:!0}),Object(xn.jsx)(Pn,{width:"100%",children:"SIGN IN"}),Object(xn.jsxs)(ct,{children:["New Customer?",Object(xn.jsx)("span",{onClick:function(){return t.push("/register")},children:"Register"})]})]})})})},lt=We.b.section(F||(F=Object(Me.a)(["\n  padding: 20px 0;\n"]))),ut=We.b.form(N||(N=Object(Me.a)(["\n  max-width: 40%;\n  margin: 0 auto;\n\n  & > h2 {\n    margin-bottom: 20px;\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n\n  & > button {\n    margin-top: 15px;\n  }\n\n  @media (max-width: 1000px) {\n    max-width: 50%;\n  }\n\n  @media (max-width: 768px) {\n    max-width: 95%;\n  }\n"]))),pt=We.b.p(E||(E=Object(Me.a)(["\n  margin-top: 20px;\n\n  & > span {\n    font-weight: bold;\n    cursor: pointer;\n    margin-left: 7px;\n  }\n\n  & > span:hover {\n    text-decoration: underline;\n  }\n"]))),bt=function(){var e,n,t,r,a=Object(Ke.g)(),c=Object(M.b)(),i=Object(M.c)(Te),s=Object(M.c)(Ve),o=Object(M.c)(Ze);Object(H.useEffect)((function(){o&&a.push("/")}),[a,o]);var d=Object(tt.a)(),l=d.register,u=d.errors,p=d.handleSubmit,b=d.watch,j=Object(H.useRef)({});j.current=b("password","");var h=p((function(e){c(function(e){var n=e.name,t=e.email,r=e.password;return function(){var e=Object(rn.a)(tn.a.mark((function e(a){var c,i,s;return tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(qe()),c={headers:{"Content-Type":"application/json"}},e.next=5,cn.post("/api/users",{name:n,email:t,password:r},c);case 5:i=e.sent,s=i.data,a(De(s)),a(Le(s)),localStorage.setItem("userInfo",JSON.stringify(s)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),a(Pe(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)),a(et());case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()}(e))}));return Object(xn.jsx)(lt,{children:Object(xn.jsx)(on.a,{spinning:i,children:Object(xn.jsxs)(ut,{onSubmit:h,children:[Object(xn.jsx)("h2",{children:"Sign up"}),Object(xn.jsx)(ot,{name:"name",label:"Name",placeholder:"Your name",error:null===(e=u.name)||void 0===e?void 0:e.message,ref:l({required:"Name is required",minLength:{value:3,message:"Name must be at least 3 characters"},maxLength:{value:20,message:"Name must not be greater than 20 characters"}})}),Object(xn.jsx)(ot,{name:"email",label:"Email",placeholder:"Your email",error:null===(n=u.email)||void 0===n?void 0:n.message,ref:l({required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email is in wrong format"}})}),Object(xn.jsx)(ot,{type:"password",name:"password",label:"Password",placeholder:"Your password",error:null===(t=u.password)||void 0===t?void 0:t.message,ref:l({required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"},maxLength:{value:50,message:"Password must not be greater than 50 characters"}})}),Object(xn.jsx)(ot,{type:"password",name:"password_repeat",label:"Confirm Password",placeholder:"Confirm password",error:null===(r=u.password_repeat)||void 0===r?void 0:r.message,ref:l({validate:function(e){return e===j.current||"The passwords do not match"}})}),s&&Object(xn.jsx)(dn.a,{message:s,type:"error",showIcon:!0,banner:!0}),Object(xn.jsx)(Pn,{width:"100%",children:"SIGN UP"}),Object(xn.jsxs)(pt,{children:["Already have an acount?",Object(xn.jsx)("span",{onClick:function(){return a.push("/login")},children:"Login"})]})]})})})},jt=We.b.section(U||(U=Object(Me.a)(["\n  padding: 20px 0;\n"]))),ht=We.b.form(z||(z=Object(Me.a)(["\n  max-width: 40%;\n  margin: 0 auto;\n\n  & > h2 {\n    margin-bottom: 20px;\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n\n  & > button {\n    margin-top: 15px;\n  }\n\n  @media (max-width: 1000px) {\n    max-width: 50%;\n  }\n\n  @media (max-width: 768px) {\n    max-width: 95%;\n  }\n"]))),xt=function(){var e,n,t,r,a=Object(Ke.g)(),c=Object(M.b)(),i=Object(M.c)(Ze),s=Object(M.c)(Je),o=Object(M.c)(Ye),d=Object(M.c)(Be),l=Object(M.c)(Ge),u=Object(M.c)(Te);Object(H.useEffect)((function(){i||a.push("/")}),[a,i]),Object(H.useEffect)((function(){c(nt())}),[c]);var p=Object(tt.a)(),b=p.register,j=p.errors,h=p.handleSubmit,x=p.watch,m=Object(H.useRef)({});m.current=x("password","");var g=h((function(e){c(function(e){var n=e.name,t=e.email,r=e.password;return function(){var e=Object(rn.a)(tn.a.mark((function e(a,c){var i,s,o,d,l;return tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(Ee()),i=c(),s=i.user.userInfo.token,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}},e.next=6,cn.put("/api/users/profile",{name:n,email:t,password:r},o);case 6:d=e.sent,l=d.data,a(Ue(l)),a(nt()),localStorage.setItem("userInfo",JSON.stringify(l)),a(et()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),a(ze(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)),a(et());case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n,t){return e.apply(this,arguments)}}()}(e))}));return Object(xn.jsx)(jt,{children:Object(xn.jsx)(on.a,{spinning:u,children:Object(xn.jsxs)(ht,{onSubmit:g,children:[Object(xn.jsx)("h2",{children:"User profile"}),Object(xn.jsx)(ot,{name:"name",label:"Name",defaultValue:s&&s.name,placeholder:"Your name",error:null===(e=j.name)||void 0===e?void 0:e.message,ref:b({required:"Name is required",minLength:{value:3,message:"Name must be at least 3 characters"},maxLength:{value:20,message:"Name must not be greater than 20 characters"}})}),Object(xn.jsx)(ot,{name:"email",label:"Email",defaultValue:s&&s.email,placeholder:"Your email",error:null===(n=j.email)||void 0===n?void 0:n.message,ref:b({required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email is in wrong format"}})}),Object(xn.jsx)(ot,{type:"password",name:"password",label:"Password",placeholder:"Enter password",error:null===(t=j.password)||void 0===t?void 0:t.message,ref:b({minLength:{value:6,message:"Password must be at least 6 characters"},maxLength:{value:50,message:"Password must not be greater than 50 characters"}})}),Object(xn.jsx)(ot,{type:"password",name:"password_repeat",label:"Confirm Password",placeholder:"Confirm password",error:null===(r=j.password_repeat)||void 0===r?void 0:r.message,ref:b({validate:function(e){return e===m.current||"The passwords do not match"}})}),d&&Object(xn.jsx)(dn.a,{message:d,type:"error",showIcon:!0,banner:!0}),l&&Object(xn.jsx)(dn.a,{message:l,type:"error",showIcon:!0,banner:!0}),o&&Object(xn.jsx)(dn.a,{message:"Updated",type:"success",showIcon:!0,banner:!0}),Object(xn.jsx)(Pn,{width:"100%",children:"UPDATE"})]})})})},mt=function(){return Object(xn.jsxs)(Ke.d,{children:[Object(xn.jsx)(Ke.b,{exact:!0,path:"/",component:fn}),Object(xn.jsx)(Ke.b,{exact:!0,path:"/product/:productID",component:Fn}),Object(xn.jsx)(Ke.b,{exact:!0,path:"/cart/:productID?",component:Xn}),Object(xn.jsx)(Ke.b,{exact:!0,path:"/login",component:dt}),Object(xn.jsx)(Ke.b,{exact:!0,path:"/register",component:bt}),Object(xn.jsx)(Ke.b,{exact:!0,path:"/profile",component:xt}),Object(xn.jsx)(Ke.a,{to:"/"})]})},gt=(t(171),Object(We.a)(_||(_=Object(Me.a)(["\n  * {\n    font-family: Arial, Helvetica, sans-serif;\n    margin: 0px;\n    padding: 0px;\n    box-sizing: border-box;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  ul {\n    margin: 0;\n    list-style: none;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p {\n    margin: 0px;\n  }\n"])))),ft=We.b.main(J||(J=Object(Me.a)(["\n  max-width: 1000px;\n  margin: 30px auto;\n  background-color: ",";\n\n  @media (max-width: 1000px) {\n    padding: 0 20px;\n  }\n"])),ln),Ot=We.b.header(Z||(Z=Object(Me.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  height: 72px;\n"])),un),vt=We.b.div(T||(T=Object(Me.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 1000px;\n  width: 1000px;\n  height: 40px;\n\n  @media (max-width: 1000px) {\n    padding: 0 20px;\n  }\n\n  @media (max-width: 768px) {\n  }\n"]))),wt=We.b.div(Y||(Y=Object(Me.a)(["\n  & > a > h2 {\n    color: ",";\n  }\n"])),ln),yt=We.b.div($||($=Object(Me.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n\n  & > label {\n    height: 100%;\n    display: inline-block;\n\n    & > input {\n      height: 100%;\n      max-width: 200px;\n      width: 300px;\n      padding: 0px 0 0px 15px;\n      outline: none;\n      border-radius: 4px;\n      margin-right: 10px;\n      border: none;\n    }\n  }\n\n  & > button {\n    background-color: ",";\n    color: ",";\n    width: auto;\n    padding: 0 20px;\n    height: 100%;\n  }\n\n  @media (max-width: 1000px) {\n    display: none;\n  }\n"])),ln,un),kt=We.b.div(V||(V=Object(Me.a)(["\n  display: none;\n\n  & > button {\n    background: white;\n    color: black;\n    width: auto;\n    padding: 0 20px;\n  }\n\n  @media (max-width: 720px) {\n    display: block;\n  }\n"]))),It=We.b.nav(B||(B=Object(Me.a)(["\n  height: 100%;\n  display: flex;\n\n  button {\n    height: 100%;\n  }\n\n  @media (max-width: 720px) {\n    display: none;\n  }\n"]))),St=We.b.div(G||(G=Object(Me.a)(["\n  & > button:first-child {\n    margin-right: 10px;\n  }\n\n  & > button {\n    background-color: ",";\n    color: ",";\n  }\n"])),ln,un),Lt=t(183),Rt=t(184),Ct=t(185),qt=t(186),Dt=t(187),Pt=t(125),At=t(177),Ft=t(180),Nt=t(181),Et=function(){var e=Object(Ke.g)(),n=Object(M.b)(),t=Object(M.c)(Te),r=Object(M.c)(Ze),a=Object(xn.jsxs)(At.a,{children:[Object(xn.jsx)(At.a.Item,{icon:Object(xn.jsx)(Lt.a,{}),onClick:function(){return e.push("/profile")},children:"Profile"},"1"),Object(xn.jsx)(At.a.Divider,{}),Object(xn.jsx)(At.a.Item,{icon:Object(xn.jsx)(Rt.a,{}),onClick:function(){n((function(e){localStorage.removeItem("userInfo"),e(Ce())}))},children:"Logout"},"2")]}),c=Object(H.useState)(!1),i=Object(wn.a)(c,2),s=i[0],o=i[1],d=function(){o(!1)};return Object(xn.jsx)(Ot,{children:Object(xn.jsxs)(vt,{children:[Object(xn.jsx)(wt,{children:Object(xn.jsx)(Qe.b,{to:"/",children:Object(xn.jsx)("h2",{children:"Awesome Shop"})})}),Object(xn.jsxs)(yt,{children:[Object(xn.jsx)("label",{children:Object(xn.jsx)("input",{type:"text",placeholder:"Search"})}),Object(xn.jsx)(Pn,{children:Object(xn.jsx)(Ct.a,{})})]}),Object(xn.jsxs)(kt,{children:[Object(xn.jsx)(Pn,{onClick:function(){o(!0)},children:Object(xn.jsx)(qt.a,{})}),Object(xn.jsx)(Ft.a,{title:null===r||void 0===r?void 0:r.name,placement:"left",closable:!1,onClose:d,visible:s,children:Object(xn.jsxs)(At.a,{onClick:d,children:[r?Object(xn.jsx)(xn.Fragment,{children:a}):Object(xn.jsxs)(xn.Fragment,{children:[Object(xn.jsx)(At.a.Item,{children:Object(xn.jsx)(Pn,{width:"100%",onClick:function(){return e.push("/login")},children:"Sign in"})},"1"),Object(xn.jsx)(At.a.Divider,{}),Object(xn.jsx)(At.a.Item,{children:Object(xn.jsx)(Pn,{width:"100%",onClick:function(){return e.push("/register")},children:"Sign up"})},"2")]}),Object(xn.jsx)(At.a.Item,{children:Object(xn.jsxs)(Pn,{width:"100%",onClick:function(){return e.push("/cart")},children:[Object(xn.jsx)("p",{children:"Cart"}),Object(xn.jsx)(Dt.a,{})]})},"3")]})})]}),Object(xn.jsxs)(It,{children:[Object(xn.jsxs)(Pn,{onClick:function(){return e.push("/cart")},children:[Object(xn.jsx)("p",{children:"Cart"}),Object(xn.jsx)(Dt.a,{})]}),Object(xn.jsx)(St,{children:r?Object(xn.jsx)(Nt.a,{overlay:a,trigger:["click"],children:Object(xn.jsxs)(Pn,{loading:t,children:[Object(xn.jsx)("p",{children:r.name})," ",Object(xn.jsx)(Pt.a,{})]})}):Object(xn.jsxs)(xn.Fragment,{children:[Object(xn.jsx)(Pn,{onClick:function(){return e.push("/login")},children:"Sign in"}),Object(xn.jsx)(Pn,{onClick:function(){return e.push("/register")},children:"Sign up"})]})})]})]})})},Ut=function(e){var n=e.children;return Object(xn.jsxs)(xn.Fragment,{children:[Object(xn.jsx)(Et,{}),Object(xn.jsx)(ft,{children:n})]})},zt=function(){return Object(xn.jsxs)(Qe.a,{children:[Object(xn.jsx)(gt,{}),Object(xn.jsx)(Ut,{children:Object(xn.jsx)(mt,{})})]})};K.a.render(Object(xn.jsx)(M.a,{store:He,children:Object(xn.jsx)(zt,{})}),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.e7ea7ccd.chunk.js.map